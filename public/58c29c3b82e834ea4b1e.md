---
title: 【サーバ仮想化技術】IBM PowerのLPARプロファイルについて
tags:
  - 仮想化
  - 'Power,HMC,'
private: false
updated_at: '2025-03-06T12:52:35+09:00'
id: 58c29c3b82e834ea4b1e
organization_url_name: null
slide: false
ignorePublish: false
---
## 仮想化の主な種類

### ハードウェア仮想化（サーバー仮想化）
 例：VMware ESXi, Microsoft Hyper-V, KVM　, IBM Power(商用製品)
 物理マシン上で複数の仮想マシン（VM※製品によってはLPARとも言われたり）を動作させる技術。

### OSレベルの仮想化（コンテナ仮想化）
 例：Docker, Podman, LXC
 OSのカーネルを共有し、軽量なコンテナ環境を提供する技術。

### ネットワーク仮想化
 例：VLAN,vSwitchなど
 物理ネットワークを抽象化し、仮想ネットワークを作成する技術。

## 2. コンテナ技術とDockerの登場
　従来の仮想化技術（VM）では、OSごとに仮想環境を作成するため、リソース消費が大きくなりがちでした。一方、コンテナ技術はホストOSのカーネルを共有しながら、独立したアプリケーション環境を提供するため、軽量で高速に動作するのが特徴です。
　Dockerは、コンテナ技術の代表的な実装の一つであり、開発・運用の効率化を大幅に向上させました。





## 区画プロファイルとは

 区画プロファイルは、IBM Powerシステムで使用される設定ファイルで、各論理区画（LPAR）の構成情報を記録しています。この設定ファイルは、ハードウェア管理コンソール（HMC）上で管理されます。
具体的な役割


区画プロファイルには、以下の情報が含まれます：

- プロセッサー：割り当てるCPUの数
- メモリ：割り当てるメモリの量
- I/Oリソース：入出力のためのリソース

これらの情報をもとに、論理区画がどのように動作するかが決まります。

### VMwareとの比較
 VMwareで仮想マシンを作成するとき、CPUやメモリ、ストレージの設定を行いますよね。区画プロファイルは、これと非常に似ています。VMwareで仮想マシン（VM）のリソースを設定するのと同じように、区画プロファイルを使って論理区画のリソースを設定します。

### 区画プロファイルの活用例

リソースの割り当て：例えば、4つのCPUを持つサーバーがあり、区画プロファイルAで3つのCPUを割り当て、区画プロファイルBで2つのCPUを割り当てたとします。この場合、両方の区画プロファイルを同時に有効にしようとすると、CPUの数が足りなくなるため、Bの論理区画は起動に失敗します。これは、VMwareで仮想マシンに過剰なリソースを割り当てようとしたときと同様です。

- 動的なリソース変更：HMCを使用して、現在の論理区画の構成を区画プロファイルとして保存できます。これにより、動的に行ったリソース変更を反映させ、次回の起動時にも同じリソース構成を維持できます。

### 注意点

- オーバーコミットのリスク：HMCは他の区画プロファイルが使用しているリソースを考慮しないため、リソースがオーバーコミットされる可能性があります。VMwareでも、ホストのリソースを超えて仮想マシンを作成すると、パフォーマンスに問題が発生することがあります。

- 自動起動設定：区画プロファイルを設定すると、次回のシステム起動時に自動的に論理区画を起動することも可能です。これも、VMwareでホスト再起動時に仮想マシンを自動的に起動する設定と似ています。

# 結論

区画プロファイルは、IBM Powerシステムで論理区画(VM:仮想サーバ)を効率的に管理するための設定ファイル。
VMwareで仮想マシンのリソースを設定するのと同じように、区画プロファイルを使って論理区画のリソースを設定し、効率的に運用することができます。これにより、システムのパフォーマンスを最大化し、安定した運用を実現することが可能です。
